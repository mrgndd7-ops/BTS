{
  "info": {
    "name": "BTS GPS Tracking API Tests",
    "description": "GPS API endpoint test collection for Postman",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "1. Test GPS API - GET Method (Traccar Format)",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/api/gps?id=postman-test-device&lat=41.0082&lon=28.9784&timestamp={{timestamp}}&speed=45.5&bearing=180&altitude=100&accuracy=10&batt=85.5",
          "host": ["{{base_url}}"],
          "path": ["api", "gps"],
          "query": [
            {
              "key": "id",
              "value": "postman-test-device",
              "description": "Device unique ID"
            },
            {
              "key": "lat",
              "value": "41.0082",
              "description": "Latitude (Istanbul)"
            },
            {
              "key": "lon",
              "value": "28.9784",
              "description": "Longitude (Istanbul)"
            },
            {
              "key": "timestamp",
              "value": "{{timestamp}}",
              "description": "Unix timestamp in milliseconds"
            },
            {
              "key": "speed",
              "value": "45.5",
              "description": "Speed in m/s"
            },
            {
              "key": "bearing",
              "value": "180",
              "description": "Direction (0-360)"
            },
            {
              "key": "altitude",
              "value": "100",
              "description": "Altitude in meters"
            },
            {
              "key": "accuracy",
              "value": "10",
              "description": "GPS accuracy in meters"
            },
            {
              "key": "batt",
              "value": "85.5",
              "description": "Battery level percentage"
            }
          ]
        }
      },
      "response": []
    },
    {
      "name": "2. Test GPS API - POST Method",
      "request": {
        "method": "POST",
        "header": [],
        "url": {
          "raw": "{{base_url}}/api/gps?id=postman-test-device-2&lat=39.9334&lon=32.8597&timestamp={{timestamp}}&speed=30&bearing=90&altitude=850&accuracy=8&batt=70",
          "host": ["{{base_url}}"],
          "path": ["api", "gps"],
          "query": [
            {
              "key": "id",
              "value": "postman-test-device-2",
              "description": "Device ID (Ankara)"
            },
            {
              "key": "lat",
              "value": "39.9334"
            },
            {
              "key": "lon",
              "value": "32.8597"
            },
            {
              "key": "timestamp",
              "value": "{{timestamp}}"
            },
            {
              "key": "speed",
              "value": "30"
            },
            {
              "key": "bearing",
              "value": "90"
            },
            {
              "key": "altitude",
              "value": "850"
            },
            {
              "key": "accuracy",
              "value": "8"
            },
            {
              "key": "batt",
              "value": "70"
            }
          ]
        }
      },
      "response": []
    },
    {
      "name": "3. Test Multiple Locations - Istanbul",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/api/gps?id=worker-istanbul-001&lat=41.0082&lon=28.9784&timestamp={{timestamp}}&speed=25&bearing=45&altitude=50&accuracy=12&batt=90",
          "host": ["{{base_url}}"],
          "path": ["api", "gps"],
          "query": [
            {
              "key": "id",
              "value": "worker-istanbul-001"
            },
            {
              "key": "lat",
              "value": "41.0082"
            },
            {
              "key": "lon",
              "value": "28.9784"
            },
            {
              "key": "timestamp",
              "value": "{{timestamp}}"
            },
            {
              "key": "speed",
              "value": "25"
            },
            {
              "key": "bearing",
              "value": "45"
            },
            {
              "key": "altitude",
              "value": "50"
            },
            {
              "key": "accuracy",
              "value": "12"
            },
            {
              "key": "batt",
              "value": "90"
            }
          ]
        }
      },
      "response": []
    },
    {
      "name": "4. Test Multiple Locations - Ankara",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/api/gps?id=worker-ankara-001&lat=39.9334&lon=32.8597&timestamp={{timestamp}}&speed=35&bearing=180&altitude=900&accuracy=10&batt=75",
          "host": ["{{base_url}}"],
          "path": ["api", "gps"],
          "query": [
            {
              "key": "id",
              "value": "worker-ankara-001"
            },
            {
              "key": "lat",
              "value": "39.9334"
            },
            {
              "key": "lon",
              "value": "32.8597"
            },
            {
              "key": "timestamp",
              "value": "{{timestamp}}"
            },
            {
              "key": "speed",
              "value": "35"
            },
            {
              "key": "bearing",
              "value": "180"
            },
            {
              "key": "altitude",
              "value": "900"
            },
            {
              "key": "accuracy",
              "value": "10"
            },
            {
              "key": "batt",
              "value": "75"
            }
          ]
        }
      },
      "response": []
    },
    {
      "name": "5. Test Multiple Locations - Izmir",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/api/gps?id=worker-izmir-001&lat=38.4192&lon=27.1287&timestamp={{timestamp}}&speed=40&bearing=270&altitude=20&accuracy=15&batt=60",
          "host": ["{{base_url}}"],
          "path": ["api", "gps"],
          "query": [
            {
              "key": "id",
              "value": "worker-izmir-001"
            },
            {
              "key": "lat",
              "value": "38.4192"
            },
            {
              "key": "lon",
              "value": "27.1287"
            },
            {
              "key": "timestamp",
              "value": "{{timestamp}}"
            },
            {
              "key": "speed",
              "value": "40"
            },
            {
              "key": "bearing",
              "value": "270"
            },
            {
              "key": "altitude",
              "value": "20"
            },
            {
              "key": "accuracy",
              "value": "15"
            },
            {
              "key": "batt",
              "value": "60"
            }
          ]
        }
      },
      "response": []
    },
    {
      "name": "6. Test CORS - OPTIONS Request",
      "request": {
        "method": "OPTIONS",
        "header": [],
        "url": {
          "raw": "{{base_url}}/api/gps",
          "host": ["{{base_url}}"],
          "path": ["api", "gps"]
        }
      },
      "response": []
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Set current timestamp in milliseconds",
          "pm.environment.set('timestamp', Date.now());"
        ]
      }
    }
  ],
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:3001",
      "type": "string"
    }
  ]
}
